# HTTP协议原理

## OSI七层模型

1. **物理层**

建立、维护、断开物理连接(定义物理设备如何传输数据)

2. **数据链路层**

建立逻辑连接、进行硬件地址寻址、差错校验等功能（通信的实体之间建立数据链路连接：0101之类的）

3. **网络层**

进行逻辑寻址，实现不同网络之间的路径选择（为数据在结点之间传输创建逻辑链路）

4. **传输层**

定义传输数据的协议端口号，以及流控和差错校验

协议有TCP和UDP，数据包一旦离开网卡即进入网络传输层，向用户提供可靠的端到端（End-to-End）服务

5. **会话层**

建立、管理、终止会话。

6. **表示层**

数据的表示、安全和压缩。

7. **应用层**

网络服务与最终用户的一个接口;
为应用软件提供了很多服务；
构建于TCP协议之上；
屏蔽网络传输相关细节

协议有HTTP/FTP/SMTP/DNS/HTTPS/POP3

## HTTP发展历史

1. **HTTP/0.9**

- 只有一个命令GET

- 没有HEADER等描述数据的信息

- 服务器发送完毕，就关闭TCP连接

2. **HTTP/1.0**

- 增加了很多命令（POST/PUT等）

- 增加status code和header

- 多字符集支持、多部分发送、权限、缓存等

3. **HTTP/1.1**

- 持久连接

- pipeline在同一个连接里发送多个请求

- 增加host（同一个物理服务器可以跑多个web服务）和其他一些命令

4. **HTTP2**

- 所有数据以二进制传输（之前是字符串）

- 同一个连接里面发送多个请求不再需要按照顺序来，可以同时多个请求数据

- 头信息压缩（减少带宽使用）以及推送等提高效率的功能（服务端可以主动发起传输）

## HTTP的三次握手

首先，HTTP是不存在`连接`这么个概念的，只有`请求`和`响应`这个概念，都是数据包，那么这时候就需要一个传输的通道了，这个通道在哪里呢？就在TCP里了，创建一个`TCP connection`,我们的http请求是在这个连接的基础上发送的。

在`TCP connection`上面是可以发送多个请求的。



